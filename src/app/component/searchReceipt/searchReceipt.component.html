<ExtDialog
[displayed]="isDialogShowing"
[title]="'영수증 상세정보'"
[closeAction]="'hide'"
[defaultFocus]="'#ok'"
(onHide)="onHide()"
(onfocus)="onShow()"
(ready)="onisDialogShowing($event)"
[maxWidth]="2000"

[defaultFocus]="'#ok'"
width="1800px"
    height="800px"
> 
<ExtWindow
[keyMap]="{ESC: 'onEscape', scope: 'this'}"
>
</ExtWindow>

<ExtPanel  
[layout]="'fit'"  
[flex]="1"
(ready)="onReadyGrid($event)"
>
    
<!-- main left -->
<ExtPanel 
    [weight]="10"
    docked="left"
    [flex]="1"
    width="500"
    [maxWidth]="'80%'"
    [resizable]="{edges: 'east', dynamic: true}"
    [border]="true"
    
    
>
    <ExtFieldset
    [defaults]="{ labelAlign: 'placeholder' }"
    width="300"
    height="300"
    >
        <ExtTextfield
            [label]="'포인트카드번호'"
            [required]="true" 
            [value]="this.pointModel.pointNum"
            [editable]="false"
        >
        </ExtTextfield>
        <ExtTextfield
            [label]="'누적 포인트'"
            [required]="true" 
            [value]="this.pointModel.totPoint"
            [editable]="false"
        >
        </ExtTextfield>
        <ExtTextfield
            [label]="'현금영수증 등록번호'"
            [required]="true" 
            [value]="this.pointModel.cashNum"
            [editable]="false"
        >
        </ExtTextfield>
        <ExtTextfield
            [label]="'현금영수증 승인번호'"
            [required]="true" 
            [value]="this.pointModel.cashApp"
            [editable]="false"
        >
        </ExtTextfield>
      
    </ExtFieldset>
    <!-- 쿠폰사용 -->
    <ExtGrid
        
        height="90"
        [infinite]="true"
        [rowNumbers]="{
            width: '60px'
        }"
        [scrollable]="true"
        [store]="pointGridStore"
       
    >
        <!-- number("0,000") 천단위 콤마 -->

        <ExtGridcolumn 
            text="쿠폰명"
            dataIndex="couponNm"
            width="200px"
        >
        </ExtGridcolumn>
        <ExtGridcolumn 
            text="쿠폰번호"
            dataIndex="couponCd"
            width="150px"
        >
        </ExtGridcolumn>
      
        <ExtGridcolumn 
            text="쿠폰할인율"
            formatter='number("00.00%")'
            dataIndex="couponDiscount"
            width="80px"
        >
        </ExtGridcolumn>           
</ExtGrid>
     <!-- 상품권 -->
    <ExtGrid
      
        height="300"
        [infinite]="true"
        [rowNumbers]="{
            width: '60px'
        }"
        [scrollable]="true"
        [store]="giftGridStore"
    
    >
        <!-- number("0,000") 천단위 콤마 -->
        <ExtGridcolumn 
            text="상품권번호"
            dataIndex="giftNum"
            width="200px"
        >
        </ExtGridcolumn>
        <ExtGridcolumn 
            text="구분"
            dataIndex="giftNm"
            width="150px"
        >
        </ExtGridcolumn>           
</ExtGrid>


</ExtPanel>

<!-- main center -->
<ExtPanel  
    [shadow]="false" 
    [layout]="{ type: 'vbox', align: 'strech' }"
    height="100%"
   
>
    <ExtFormpanel
        [layout]="'fit'"
        height="300"
        docked="top"
        [border]="true"
    >
    <ExtGrid
    
    [infinite]="true"
    [rowNumbers]="{
        width: '60px'
    }"
    [scrollable]="true"
    [store]="payGridStore"
 
>
    <!-- number("0,000") 천단위 콤마 -->
    <ExtGridcolumn 
        text="전표"
        dataIndex="chit"
        width="100px"
    >
    </ExtGridcolumn>
    <ExtGridcolumn 
        text="입금시재"
        dataIndex="payDiv"
        width="200px"
    >
    </ExtGridcolumn>
    <ExtGridcolumn 
        text="금액"
        formatter='number("0,000")'
        dataIndex="payPrice"
        [align]="'right'"
        width="200px"
    >
    </ExtGridcolumn>
    <ExtGridcolumn 
        text="카드번호"
        dataIndex="cardNo"
        width="200px"
    >
    </ExtGridcolumn>
    <ExtGridcolumn 
        text="승인번호"
        dataIndex="appNo"
        width="100px"
    >
    </ExtGridcolumn>
    <ExtGridcolumn 
        text="결제 VAN사"
        dataIndex="van"
        width="100px"
    >
    </ExtGridcolumn>
    
         
</ExtGrid>
    </ExtFormpanel>
    <ExtFormpanel
        [layout]="'fit'"
        height="200"
        docked="top"
        [border]="true"
    >
    <ExtGrid

    [infinite]="true"
    [rowNumbers]="{
        width: '60px'
    }"
    [scrollable]="true"
    [store]="ItemGridStore"
 
>
    <!-- number("0,000") 천단위 콤마 -->
    <ExtGridcolumn 
        text="클래스"
        dataIndex="cls"
        width="100px"
    >
    </ExtGridcolumn>
    <ExtGridcolumn 
        text="상품명"
        dataIndex="clsNm"
        width="150px"
    >
    </ExtGridcolumn>
    <ExtGridcolumn 
        text="수량"
        formatter='number("0,000")'
        dataIndex="num"
        [align]="'right'"
        width="70px"
    >
    </ExtGridcolumn>
    <ExtGridcolumn 
        text="총액"
        formatter='number("0,000")'
        dataIndex="totPrice"
        [align]="'right'"
        width="130px"
    >
    </ExtGridcolumn>
    <ExtGridcolumn 
        text="순매출액"
        formatter='number("0,000")'
        dataIndex="netsales"
        [align]="'right'"
        width="130px"
    >
    </ExtGridcolumn>
    <ExtGridcolumn 
        text="할인"
        formatter='number("0,000")'
        dataIndex="itemDiscount"
        [align]="'right'"
        width="130px"
    >
    </ExtGridcolumn>
    <ExtGridcolumn 
        text="단가"
        formatter='number("0,000")'
        dataIndex="price"
        [align]="'right'"
        width="130px"
    >
    </ExtGridcolumn>
    <ExtGridcolumn 
        text="단품코드"
        dataIndex="item"
        width="100px"
    >
    </ExtGridcolumn>
         
</ExtGrid>      
    </ExtFormpanel>
    <ExtFormpanel
    [layout]="'fit'"
    height="180"
    docked="top"
    [border]="true"
>
    <ExtGrid
        
        [infinite]="true"
        [rowNumbers]="{
            width: '60px'
        }"
        [scrollable]="true"
        [store]="eventGridStore"
    
    >
        <!-- number("0,000") 천단위 콤마 -->
        <ExtGridcolumn 
            text="지급번호"
            dataIndex="eventCd"
            width="150px"
        >
        </ExtGridcolumn>     
        <ExtGridcolumn 
            text="사은행사명"
            dataIndex="eventNm"
            width="350px"
        >
        </ExtGridcolumn>       
        <ExtGridcolumn 
            text="인정매출액"
            formatter='number("0,000")'
            dataIndex="eventAcceptAmount"
            [align]="'right'"
            width="150px"
        >
        </ExtGridcolumn>
        <ExtGridcolumn 
            text="지급액"
            formatter='number("0,000")'
            dataIndex="eventGift"
            [align]="'right'"
            width="150px"
        >
        </ExtGridcolumn>
        <ExtGridcolumn 
            text="지급구분"
            dataIndex="eventGiftNm"
            width="200px"
        >
        </ExtGridcolumn>
</ExtGrid>
</ExtFormpanel>
    <!-- <ExtPanel
        [layout]="'fit'"
        height="400"
        [border]="true"
    >
        
    </ExtPanel> -->
</ExtPanel>
</ExtPanel>



      <ExtPanel  
      [layout]="'fit'" 
      [height]="'50px'" 
      docked="bottom"
      [resizable]="{edges: 'south', dynamic: true}"
      [maxHeight]="'100px'"
      [minHeight]="'50px'"
      >
          <ExtButton [align]="'right'" text="닫기" (tap)="onCancel()"></ExtButton>
          <!-- <ExtButton 
          [align]="'right'"
          [ui]="'alt round'"
          iconCls="x-fa fa-search"
          (tap)="onTapQuery($event)"
          text="조회" 
        >
        </ExtButton> -->
      </ExtPanel>

  </ExtDialog>