<!--
생성자 	 : '' 	생성일 : '' 
수정자 	 : ''	수정일 : '' 
@수정내용   : '' 
-->

<ExtDialog
    [displayed]="isDialogShowing"
    [title]="'코너 검색'"
    [closeAction]="'hide'"
    [bodyPadding]="20"
    [maxWidth]="1000"
    [defaultFocus]="'#ok'"
    (onHide)="onHide()"
    [html]="' ※ 코너 번호 또는 명을 입력후 Enter키 또는 찾기버튼을 누르시기 바랍니다. <br><br><p> 찾고자하는 코너명에 대소문자 둘다 입력된 경우 구분하여 입력하시기 바랍니다. 예) XinX, EnC, Eu, Enc, Lee <br><br>'"
    width="1000px"
    height="560px"
    [keyMapEnabled]="false"
    [modal]="true"
>
    <ExtWindow
        [keyMap]="{ESC: 'onEscape', scope: 'this'}"
    >
    </ExtWindow>
    <ExtPanel  
        [shadow]="false" 
        [layout]="{ type: 'vbox', align: 'strech' }"
        [border]="false"
        [scrollable]="true"
        height="400px"
    >
        <!--search area-->
        <!--한줄 50px 두줄 100px... (x2)-->
        <ExtPanel  
            [layout]="'fit'" 
            [height]="'50px'" 
            docked="top"
            [resizable]="{edges: 'south', dynamic: true}"
            [maxHeight]="'100px'"
            [minHeight]="'50px'"
        >
        <ExtContainer padding="0" layout="fit" fitToParent="true">
            <ExtFormpanel
                [layout]="{
                    type: 'vbox',
                    vertical: false,
                    align: 'left'
                }"
                padding="0"                    
            >
                <ExtSearchfield
                    label="코너"
                    [value]="query"
                    placeholder="코너 Search..."   
                    (action)="ConerSearch($event)"
                    (change)="onChange($event)"
                    width="80%"
                    required="true"
                >
                </ExtSearchfield>
                <ExtComponent [width]="10"></ExtComponent>
                <ExtButton
                    flex="1"
                    layout="fit"
                    [text]="'찾기'"
                    (tap)="ConerSearch($event)"
                    [ui]="'action raised'"
                    iconCls="x-fa fa-search"
                    width="20%"
                ></ExtButton>
            
                
            </ExtFormpanel>
        </ExtContainer>
        </ExtPanel>
        
        <ExtPanel  
            [layout]="'fit'"
            [flex]="1"
        >
            <ExtGrid
                (ready)="onReadyGrid($event)"
                [infinite]="true"
                [scrollable]="true"
                [store]="gridSearchConerStore"       
                [rowNumbers]="{
                    width: '50px', text:'No'
                }"  
                [markDirty]="true"   
                (select)="onSelectGrid($event)"   
                height="300px"                                      
            >
                <ExtGridcolumn
                    text="점"
                    [hidden]="true"
                    dataIndex="jum"
                    width="50"
                >
                </ExtGridcolumn>
                <ExtGridcolumn
                    text="부"
                    [hidden]="true"
                    dataIndex="bu"
                    width="50"
                >
                </ExtGridcolumn>
                <ExtGridcolumn
                    text="팀"
                    [hidden]="true"
                    dataIndex="team"
                    width="50"
                >
                </ExtGridcolumn>  
                <ExtGridcolumn
                    text="pc"
                    [hidden]="true"
                    dataIndex="pc"
                    width="50"
                >
                </ExtGridcolumn>   
                <ExtGridcolumn 
                    text="클래스번호"
                    [align]="'left'"
                    dataIndex="conerNo"
                    width="100"
                    summary=""
                >
                </ExtGridcolumn>
                <ExtGridcolumn 
                    text="클래스명"
                    [align]="'left'"
                    dataIndex="conerName"
                    width="200"
                >
                </ExtGridcolumn>
                <ExtGridcolumn 
                    text="점명"
                    [align]="'left'"
                    dataIndex="jumName"
                    width="100"
                >
                </ExtGridcolumn>
                <ExtGridcolumn 
                    text="부명"
                    [align]="'left'"
                    dataIndex="buName"
                    width="100"
                >
                </ExtGridcolumn>
                <ExtGridcolumn 
                    text="팀명"
                    [align]="'left'"
                    dataIndex="teamName"
                    width="100"
                >
                </ExtGridcolumn>
                <ExtGridcolumn 
                    text="pc명"
                    [align]="'left'"
                    dataIndex="pcName"
                    width="100"
                >
                </ExtGridcolumn>
                <ExtGridcolumn 
                    text="생성일"
                    [align]="'left'"
                    dataIndex="codeCrtDate"
                    width="100"
                >
                </ExtGridcolumn>
                <ExtGridcolumn 
                    text="폐기일"
                    [align]="'left'"
                    dataIndex="codeDispDate"
                    width="100"
                >
                </ExtGridcolumn>
            </ExtGrid>
        </ExtPanel>
    </ExtPanel>
    <ExtPanel  
        [layout]="'fit'" 
        [height]="'50px'" 
        docked="bottom"
        [resizable]="{edges: 'south', dynamic: true}"
        [maxHeight]="'100px'"
        [minHeight]="'50px'"
    >
        <ExtButton text="Cancel" (tap)="onCancel()"></ExtButton>
        <ExtButton [id]="'conerok'" text="OK" (tap)="onOk()"></ExtButton>
    </ExtPanel>
    <ExtLabel>
        
    </ExtLabel>
</ExtDialog>