<!--
생성자 	 : '' 	생성일 : '' 
수정자 	 : ''	수정일 : '' 
@수정내용   : '' 
-->

<ExtContainer padding="0" layout="fit" fitToParent="true">
    <!-- title-->
        <!-- title-->
    <ExtTitlebar
        [title]="route.text"
        docked="top"
        [platformConfig]="{ 
            phone   : { titleAlign: 'center' } 
        ,   desktop : { titleAlign: 'left' }
        }"
    >
        <ExtButton 
            [align]="'left'" 
            iconCls="x-fa fa-th-large"
            [ui]="'alt round'"
            (tap)="onTitleTap($event)"
        >
        </ExtButton>
        <ExtButton 
            [align]="'right'"
            [ui]="'alt round'"
            iconCls="x-fa fa-search"
            (tap)="onTapQuery($event)"
            text="조회" 
        >
        </ExtButton>
        <ExtButton 
            [align]="'right'"
            [ui]="'alt round'"
            iconCls="x-fa fa-save"
            margin= "0 0 0 5"
            (tap)="onTapSave($event)"
            text="저장" 
        >
        </ExtButton>
        <ExtButton 
        [align]="'right'"
            [ui]="'alt round'"
            iconCls="x-fa fa-save"
            margin= "0 0 0 5"
            (tap)="onTapSave($event)"
            text="신규" 
        >
        </ExtButton>
            <!-- <ExtButton 
            [align]="'right'"
            [ui]="'alt round'"
            iconCls="x-fa fa-eraser"
            margin="0 0 0 5"
            (tap)="onTapModify($event)"
            text="수정" 
        >
        </ExtButton> -->
        <ExtButton 
            [align]="'right'"
            [ui]="'alt round'"
            iconCls="x-fa fa-trash-alt"
            margin= "0 0 0 5"
            (tap)="onTapDelete($event)"
            text="폐기" 
        >
        </ExtButton>
        <ExtButton 
            [align]="'right'"
            [ui]="'alt round'"
            iconCls="x-fa fa-close"
            margin= "0 0 0 5"
            (tap)="onTapClear($event)"
            text="초기화" 
        >
        </ExtButton>
        <!-- <ExtButton 
            [align]="'right'"
            [ui]="'alt round'"
            iconCls="x-fa fa-edit"
            margin= "0 0 0 5"
            (tap)="onTapNew($event)"
            text="신규" 
        >
        </ExtButton> -->
        <!-- <ExtButton
            [align]="'right'"
            [ui]="'alt round'"
            [style]='{ "float": "right" }'
            iconCls="x-fa fa-file-excel"
            (tap)="onTapExcel($event)"
            tooltip="Excel DownLoad"
        ></ExtButton>
        <ExtButton
            [align]="'right'"
            [ui]="'alt round'"
            [style]='{ "float": "right" }'
            iconCls="x-fa fa-file-pdf"
            (tap)="onTapReport($event)"
            tooltip="Report DownLoad"
        ></ExtButton>
        <ExtButton
            [align]="'right'"
            [ui]="'alt round'"
            [style]='{ "float": "right" }'
            iconCls="x-fa fa-question-circle"
            (tap)="onTapHelp($event)"
            tooltip="Help"
        ></ExtButton> -->
    </ExtTitlebar>

    <!-- contnent-->
        <ExtPanel  
        [shadow]="true" 
        [layout]="{ type: 'vbox', align: 'strech' }"
        [border]="true"
        [scrollable]="true"
    >
        <!--search area-->
        <!--한줄 50px 두줄 100px... (x2)-->
        <ExtPanel  
            [layout]="'fit'" 
            [height]="'100px'" 
            docked="top"
            [resizable]="{edges: 'south', dynamic: true}"
            [maxHeight]="'300px'"
            [minHeight]="'50px'"
        >
            <ExtFormpanel
                [layout]="{
                    type: 'box',
                    vertical: false
                }"
            >
                <!-- First line -->
                <ExtFieldset
                    [layout]="'form'"
                    [flex]="1"
                >
                    <ExtCombobox
                    [label]="'점'"
                    [store]="comboStoreLv1"
                    [placeholder]="'선택하세요'"
                    [valueField]="'storeLvCd'"
                    [displayField]="'storeLvNm'"
                    [value]="jumComboVal"
                    [queryMode]="'local'"
                    [clearable]="true"
                    [editable]="false"
                    (change)="comboStoreLv1Event($event)"
                    >
                    </ExtCombobox>
                  
                </ExtFieldset>

                <!-- 필드간 좌우 간격  -->
                <ExtComponent [width]="10"></ExtComponent>
                <ExtFieldset
                [layout]="'form'"
                [flex]="1"
            >
                    <ExtTextfield
                        [placeholder]="'코너검색...'"
                        [label]="'코너'"
                        [editable]="false"
                        [value]="this.paramModel.conerNm"
                        (mousedown)="searchconer($event)"
                    >
                    </ExtTextfield>
                   
                </ExtFieldset>

                <!-- 필드간 좌우 간격  -->
                <ExtComponent [width]="10"></ExtComponent>

                <!-- Third line -->
                <ExtFieldset
                    [layout]="'form'"
                    [flex]="1"
                >
                    <ExtCombobox
                    [label]="'키'"
                    [store]="keyStore"
                    [placeholder]="'선택하세요'"
                    [valueField]="'key'"
                    [displayField]="'key'"
                    [queryMode]="'local'"
                    [clearable]="true"
                    (change)="keyStoreEvent($event)"
                >
            </ExtCombobox>
                </ExtFieldset>

                <!-- 필드간 좌우 간격 -->
                <ExtComponent [width]="10"></ExtComponent>

                <!-- Fourth line -->
                <ExtFieldset
                    [layout]="'form'"
                    [flex]="1"
                >
                    
                </ExtFieldset> 
            </ExtFormpanel>
            
        </ExtPanel>

        <!-- main area -->
         <!-- main area -->
         <ExtPanel  
         [layout]="'fit'"  
         [flex]="1"
        >
         <!-- main left -->
         <ExtPanel 
             [weight]="10"
             docked="left"
             [flex]="1"
             width="1"
             [maxWidth]="'1%'"
             [resizable]="{edges: 'east', dynamic: false}"
             [border]="true"
         >
         </ExtPanel>

     
         <ExtPanel  
             [layout]="'fit'" 
             
             [resizable]="{edges: 'south', dynamic: false}"
             [maxHeight]="'95%'"
             [minHeight]="'25px'"
         >

               
        <ExtFieldset
            [layout]="'form'"
            [flex]="1"
        >
                     
                <ExtTextfield
                [placeholder]="''"
                [label]="'클래스　명'"
                [required]="false"
                [clearable]="true"
                [maxLength]="10"
                [value]="resultClass.clsNm"
                (change)="clsNmEvent($event)"
                >
                </ExtTextfield>

                <ExtTextfield
                [placeholder]="''"
                [label]="'코너 번호'"
                [required]="false"
                [clearable]="true"
                [maxLength]="5"
                [value]="resultClass.cls1"
                disabled="true"
                (change)="ConerEvent($event)"
                >
                </ExtTextfield>

                <ExtCombobox
                [label]="'특정코드'"
                [store]="featureCdStore"
                [placeholder]="'선택하세요'"
                [valueField]="'featureCd'"
                [displayField]="'featureCdNm'"
                [queryMode]="'local'"
                [clearable]="true"
                [value]="resultClass.featureCd"
                (change)="featureCdEvent($event)"
                [editable]="false"
                >
                </ExtCombobox>
             <ExtTextfield
                [placeholder]="''"
                [label]="'협력업체'"
                [required]="false"
                [clearable]="true"
                [maxLength]="6"
                [value]="resultClass.partner"
                
                (change)="partnerEvent($event)"
                >
             </ExtTextfield>
             <!-- <ExtTextfield
                        [placeholder]="'협력업체검색...'"
                        [label]="'협력업체'"
                        [value]="this.paramModel.partnerNm"
                        (mousedown)="searchpartner($event)"
                    >
            </ExtTextfield> -->

             <ExtNumberfield
             [decimals]="2"
             [label]="'재고로스율'"
             [placeholder]="'%'"
             [maxLength]='5'
             [width]="150"
             formatter = 'number("000.00")'
             [value]="resultClass.stockLoss"
             (change)="stockLossEvent($event)"
            ></ExtNumberfield>
            
             <!-- <ExtTextfield
             [placeholder]="'마진변경시 수수료율 변경화면 등록'"
             [label]="'노마진 '"
             [required]="false"
             [clearable]="false"
             [editable]="false"
             >
             </ExtTextfield> -->

             <ExtNumberfield
             [decimals]="2"
             [label]="'마진율'"
             [placeholder]="'%'"
             [maxLength]='5'
             [width]="150"
             [value]="resultClass.margin"
             formatter = 'number("000.00")'
             (change)="marginEvent($event)"
            ></ExtNumberfield>

            <ExtCombobox
            [label]="'행사구분'"
            [store]="eventCdStore"
            [placeholder]="'선택하세요'"
            [valueField]="'eventCd'"
            [displayField]="'eventCdNm'"
            [queryMode]="'local'"
            [clearable]="true"
            [editable]="false"
            [value]="resultClass.eventCd"
            (change)="eventCdEvent($event)"
            >
            </ExtCombobox>

            <ExtCombobox
             [placeholder]="''"
             [label]="'TAG 구분'"
             [store]="tagCdStore"
             [valueField]="'tagCd'"
             [displayField]="'tagCd'"
             [required]="false"
             [clearable]="false"
             [editable]="false"
             [value]="resultClass.tagCd"
             (change)="tagCdEvent($event)"*
             >
            </ExtCombobox>

             <ExtTextfield
             [placeholder]="''"
             [label]="'등록 일자'"
             [required]="false"
             [clearable]="false"
             disabled="true"
             [value]="resultClass.crtDt"
             >
             </ExtTextfield>

             <ExtTextfield
             [placeholder]="''"
             [label]="'수정 일자'"
             [required]="false"
             [clearable]="false"
             disabled="true"
             [value]="resultClass.uptDt"
             >
             </ExtTextfield>

             <ExtTextfield
             [placeholder]="''"
             [label]="'중지 일자'"
             [required]="false"
             [clearable]="false"
             disabled="true"
             [value]="resultClass.stopDt"
             >
             </ExtTextfield>
             <ExtTextfield
             [placeholder]="''"
             [label]="'폐기 일자'"
             [required]="false"
             [clearable]="false"
             [value]="resultClass.delDt"
             disabled="true"
             >
             </ExtTextfield>
 
             </ExtFieldset>
              <!--2번째열 str-->
              <ExtFieldset
              [layout]="'form'"
              [flex]="1"
              
              >

              <ExtNumberfield
              [placeholder]="''"
              [label]="'약정만기일'"
              [maxLength]="8"
              [value]="resultClass.Expire"
              [required]="false"
              [clearable]="true"
              [maxLength]="6"
              (change)="expireEvent($event)"
              >
              </ExtNumberfield>
              <ExtCheckbox
              [label]="'지불반영'"
              [checked]="false"
              (ready)="onPaymentShowing($event)"
              text="paymentShowing"
              [value]="resultClass.payment"
              (change)="paymentEvent($event)"
            ></ExtCheckbox>
              
              

              </ExtFieldset> 
              <!--2번째열 end-->
              <!--3번째열 str-->

              <ExtFieldset
              [layout]="'form'"
              [flex]="1"
              >

              

              </ExtFieldset>  
              <!--3번째열 end-->
              <!--4번째열 str-->

              <ExtFieldset
              [layout]="'form'"
              [flex]="1"
              >
              

              </ExtFieldset>  
              <!--4번째열 end-->

             
         </ExtPanel>
        
         </ExtPanel>
     </ExtPanel>
     <app-SearchConer 
     [isDialogShowing]="this.isDialogShowing"
     [SearchConerParamModel]="this.SearchConerParamModel"  
     (sendObject)="conerSelected($event)"
     (closeConer)="closeConer($event)"	
     >
     </app-SearchConer>
</ExtContainer>

